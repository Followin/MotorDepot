@model MotorDepot.WEB.Models.RegisterUserViewModel
@{
    ViewBag.Title = "Register";
}

@using (Html.BeginForm("Register", "Account", FormMethod.Post, new { @class = "ms-form" }))
{
    @Html.AntiForgeryToken()
    @Html.ValidationSummary(true)
    <fieldset class="paper-block">
        <h1>Регистрация - Шаг <span class="ms-form-step"></span></h1>
        <h2 class="fs-title">Данные аккаунта</h2>

        <div class="form-group">
            @Html.LabelFor(x => x.Nickname)
            @Html.EditorFor(x => x.Nickname)
            @Html.ValidationMessageFor(x => x.Nickname)
        </div>

        <div class="form-group">
            @Html.LabelFor(x => x.Password)
            @Html.EditorFor(x => x.Password)
            @Html.ValidationMessageFor(x => x.Password)
        </div>

        <div class="form-group">
            @Html.LabelFor(x => x.ConfirmPassword)
            @Html.EditorFor(x => x.ConfirmPassword)
            @Html.ValidationMessageFor(x => x.ConfirmPassword)
        </div>

        <div class="form-group">
            @Html.LabelFor(x => x.Email)
            @Html.EditorFor(x => x.Email)
            @Html.ValidationMessageFor(x => x.Email)
        </div>
        <div class="form-buttons">
            <button type="button" class="action-button next">Далее</button>
        </div>
    </fieldset>
    <fieldset class="paper-block">
        <h1>Регистрация - Шаг <span class="ms-form-step"></span></h1>
        <h2 class="fs-title">Личные данные</h2>

        <div class="form-group">
            @Html.LabelFor(x => x.Driver.FirstName)
            @Html.EditorFor(x => x.Driver.FirstName)
            @Html.ValidationMessageFor(x => x.Driver.FirstName)
        </div>

        <div class="form-group">
            @Html.LabelFor(x => x.Driver.LastName)
            @Html.EditorFor(x => x.Driver.LastName)
            @Html.ValidationMessageFor(x => x.Driver.LastName)
        </div>

        <div class="form-group">
            @Html.LabelFor(x => x.Driver.Gender)
            @Html.EditorFor(x => x.Driver.Gender)
            @Html.ValidationMessageFor(x => x.Driver.Gender)
        </div>

        <div class="form-group">
            @Html.LabelFor(x => x.Driver.BithDate)
            @Html.EditorFor(x => x.Driver.BithDate)
            @Html.ValidationMessageFor(x => x.Driver.BithDate)
        </div>

        <div class="form-buttons">
            <button type="button" class="action-button previous">Назад</button>
            <button type="button" class="action-button next">Далее</button>
        </div>
    </fieldset>
    <fieldset class="paper-block">
        <h1>Регистрация - Шаг <span class="ms-form-step"></span></h1>
        <h2 class="fs-title">Данные водительского удостоверения</h2>

        <div class="form-group">
            @Html.LabelFor(x => x.Driver.DriverLicense.VehicleClasses)
            @{
                var vehicleClasses = (IEnumerable<SelectListItem>) ViewBag.VehicleClasses;
                var firstClass = vehicleClasses.FirstOrDefault();
            }
            <div>
                <input type="checkbox" data-val="true" data-val-required="Выберете класс" name="Driver.DriverLicense.VehicleClasses"
                       id="@firstClass.Value"
                       value="@firstClass.Value" />
                <label for="@firstClass.Value">@firstClass.Text</label>
            </div>
            @foreach (var vehicleClass in vehicleClasses.Skip(1))
            {
                <div>
                    <input type="checkbox" name="Driver.DriverLicense.VehicleClasses" id="@vehicleClass.Value" value="@vehicleClass.Value" />
                    <label for="@vehicleClass.Value">@vehicleClass.Text</label>
                </div>
            }
            @Html.ValidationMessageFor(x => x.Driver.DriverLicense.VehicleClasses)
        </div>

        <div class="form-group">
            @Html.LabelFor(x => x.Driver.DriverLicense.IssueDate)
            @Html.EditorFor(x => x.Driver.DriverLicense.IssueDate)
            @Html.ValidationMessageFor(x => x.Driver.DriverLicense.IssueDate)
        </div>

        <div class="form-group">
            @Html.LabelFor(x => x.Driver.DriverLicense.IssuedBy)
            @Html.EditorFor(x => x.Driver.DriverLicense.IssuedBy)
            @Html.ValidationMessageFor(x => x.Driver.DriverLicense.IssuedBy)
        </div>

        <div class="form-buttons">
            <button type="button" class="action-button previous">Назад</button>
            <input type="submit" value="Отправить" class="action-button submit" />
        </div>
    </fieldset>
}

@section scripts {
    @Scripts.Render("~/Scripts/formScripts")
}
